{"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":13},"end":{"line":5,"column":28}},"4":{"start":{"line":7,"column":21},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":22},"end":{"line":8,"column":53}},"6":{"start":{"line":9,"column":24},"end":{"line":9,"column":57}},"7":{"start":{"line":12,"column":8},"end":{"line":12,"column":29}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":29}},"9":{"start":{"line":14,"column":8},"end":{"line":14,"column":37}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":53}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":54}},"12":{"start":{"line":17,"column":8},"end":{"line":17,"column":58}},"13":{"start":{"line":18,"column":8},"end":{"line":18,"column":22}},"14":{"start":{"line":21,"column":30},"end":{"line":26,"column":9}},"15":{"start":{"line":22,"column":12},"end":{"line":22,"column":59}},"16":{"start":{"line":23,"column":12},"end":{"line":23,"column":92}},"17":{"start":{"line":24,"column":12},"end":{"line":24,"column":60}},"18":{"start":{"line":25,"column":12},"end":{"line":25,"column":19}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":36}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":83}},"21":{"start":{"line":30,"column":36},"end":{"line":30,"column":81}},"22":{"start":{"line":33,"column":0},"end":{"line":33,"column":18}},"23":{"start":{"line":35,"column":0},"end":{"line":35,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":18},"end":{"line":19,"column":5}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":20,"column":4},"end":{"line":20,"column":5}},"loc":{"start":{"line":20,"column":13},"end":{"line":28,"column":5}},"line":20},"2":{"name":"(anonymous_2)","decl":{"start":{"line":21,"column":30},"end":{"line":21,"column":31}},"loc":{"start":{"line":21,"column":51},"end":{"line":26,"column":9}},"line":21},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":4},"end":{"line":29,"column":5}},"loc":{"start":{"line":29,"column":16},"end":{"line":31,"column":5}},"line":29},"4":{"name":"(anonymous_4)","decl":{"start":{"line":30,"column":30},"end":{"line":30,"column":31}},"loc":{"start":{"line":30,"column":36},"end":{"line":30,"column":81}},"line":30}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":1},"f":{"0":1,"1":1,"2":0,"3":0,"4":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/app.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,6BAA6B;AAC7B,2CAA2C;AAC3C,oDAA6C;AAC7C,sDAA+C;AAC/C,0DAAmD;AAEnD,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QAErB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;QAErB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAE7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,oBAAU,CAAC,CAAC;QAEnC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,qBAAW,CAAC,CAAC;QAEpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,uBAAa,CAAC,CAAC;QAExC,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CACR,8BAA8B,EAC9B,mCAAmC,CACpC,CAAC;YACF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,0BAA0B,IAAI,EAAE,CAAC,CAAC,CAAC;IAC7E,CAAC;CACF;AAEQ,kBAAG;AAEZ,8DAA8D;AAC/C,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport * as cors from 'cors';\n// import middlewares from './middlewares';\nimport userRouter from './routes/UserRouter';\nimport teamsRouter from './routes/TeamsRouter';\nimport matchesRouter from './routes/MatchesRouter';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n\n    this.app.use(cors());\n\n    this.app.use(express.json());\n\n    this.app.use('/login', userRouter);\n\n    this.app.use('/teams', teamsRouter);\n\n    this.app.use('/matches', matchesRouter);\n\n    this.config();\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header(\n        'Access-Control-Allow-Methods',\n        'GET,POST,DELETE,OPTIONS,PUT,PATCH',\n      );\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(accessControl);\n  }\n\n  public start(PORT: string | number):void {\n    this.app.listen(PORT, () => console.log(`Server started on port ${PORT}`));\n  }\n}\n\nexport { App };\n\n// A execução dos testes de cobertura depende dessa exportação\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a3fa50ac57e111aca90f89b19e9dbd7de34132c2"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/UserRouter.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/UserRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":65}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":57}},"4":{"start":{"line":6,"column":22},"end":{"line":6,"column":56}},"5":{"start":{"line":7,"column":19},"end":{"line":7,"column":35}},"6":{"start":{"line":8,"column":23},"end":{"line":8,"column":80}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":58}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":120}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/UserRouter.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/UserRouter.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,kEAA2D;AAC3D,0DAAmD;AACnD,yDAAkD;AAElD,MAAM,UAAU,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAEpC,MAAM,cAAc,GAAG,IAAI,wBAAc,CAAC,IAAI,qBAAW,EAAE,CAAC,CAAC;AAE7D,UAAU,CAAC,GAAG,CACZ,WAAW,EACX,cAAc,CAAC,aAAa,CAE7B,CAAC;AAEF,UAAU,CAAC,IAAI,CACb,GAAG,EACH,oBAAU,CAAC,aAAa,EACxB,oBAAU,CAAC,gBAAgB,EAC3B,cAAc,CAAC,OAAO,CACvB,CAAC;AACF,kBAAe,UAAU,CAAC","sourcesContent":["import * as express from 'express';\nimport UserController from '../controllers/UserController';\nimport middleware from '../middlewares/middleware';\nimport UserService from '../services/UserService';\n\nconst userRouter = express.Router();\n\nconst userController = new UserController(new UserService());\n\nuserRouter.get(\n  '/validate',\n  userController.validateLogin,\n\n);\n\nuserRouter.post(\n  '/',\n  middleware.validateEmail,\n  middleware.validatePassword,\n  userController.getUser,\n);\nexport default userRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"34c801c1d5af7d521c7602047f20c84dd1de7353"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/UserController.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/UserController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":5,"column":8},"end":{"line":5,"column":39}},"2":{"start":{"line":6,"column":8},"end":{"line":13,"column":10}},"3":{"start":{"line":7,"column":40},"end":{"line":7,"column":48}},"4":{"start":{"line":8,"column":28},"end":{"line":8,"column":79}},"5":{"start":{"line":9,"column":12},"end":{"line":11,"column":13}},"6":{"start":{"line":10,"column":16},"end":{"line":10,"column":88}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":49}},"8":{"start":{"line":14,"column":8},"end":{"line":20,"column":10}},"9":{"start":{"line":15,"column":26},"end":{"line":15,"column":57}},"10":{"start":{"line":16,"column":25},"end":{"line":16,"column":62}},"11":{"start":{"line":17,"column":12},"end":{"line":18,"column":72}},"12":{"start":{"line":18,"column":16},"end":{"line":18,"column":72}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":51}},"14":{"start":{"line":23,"column":0},"end":{"line":23,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":4},"end":{"line":4,"column":5}},"loc":{"start":{"line":4,"column":29},"end":{"line":21,"column":5}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":23},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":43},"end":{"line":13,"column":9}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":14,"column":29},"end":{"line":14,"column":30}},"loc":{"start":{"line":14,"column":43},"end":{"line":20,"column":9}},"line":14}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":12},"end":{"line":11,"column":13}},"type":"if","locations":[{"start":{"line":9,"column":12},"end":{"line":11,"column":13}},{"start":{"line":9,"column":12},"end":{"line":11,"column":13}}],"line":9},"1":{"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":57}},"type":"binary-expr","locations":[{"start":{"line":15,"column":26},"end":{"line":15,"column":51}},{"start":{"line":15,"column":55},"end":{"line":15,"column":57}}],"line":15},"2":{"loc":{"start":{"line":17,"column":12},"end":{"line":18,"column":72}},"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":18,"column":72}},{"start":{"line":17,"column":12},"end":{"line":18,"column":72}}],"line":17}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/UserController.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/UserController.ts"],"names":[],"mappings":";;AAGA,MAAqB,cAAc;IACjC,YAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAE5C,YAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YAC9C,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAErC,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC;YAEpE,IAAI,CAAC,OAAO,EAAE;gBACZ,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;aACzE;YAED,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvC,CAAC,CAAC;QAEF,kBAAa,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,EAAE;YAC9C,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,IAAI,EAAE,CAAC;YAE9C,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;YAEnD,IAAI,CAAC,IAAI;gBAAE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,CAAC,CAAC;YAEnE,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzC,CAAC,CAAC;IAtB6C,CAAC;CAuBjD;AAxBD,iCAwBC","sourcesContent":["import { Request, Response } from 'express';\nimport UserService from '../services/UserService';\n\nexport default class UserController {\n  constructor(private userService: UserService) {}\n\n  getUser = async (req: Request, res: Response) => {\n    const { email, password } = req.body;\n\n    const retorno = await this.userService.getUser({ email, password });\n\n    if (!retorno) {\n      return res.status(401).json({ message: 'Incorrect email or password' });\n    }\n\n    return res.status(200).json(retorno);\n  };\n\n  validateLogin = (req: Request, res: Response) => {\n    const token = req.headers.authorization || '';\n\n    const data = this.userService.validadeLogin(token);\n\n    if (!data) return res.status(401).json({ error: 'Token invalid' });\n\n    return res.status(200).json(data.role);\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f1a633c1a34e0f30319d41904fe1d431c01cf64b"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/middlewares/middleware.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/middlewares/middleware.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":15},"end":{"line":4,"column":49}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":16}},"4":{"start":{"line":10,"column":0},"end":{"line":21,"column":2}},"5":{"start":{"line":11,"column":22},"end":{"line":11,"column":30}},"6":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":78}},"8":{"start":{"line":15,"column":37},"end":{"line":15,"column":56}},"9":{"start":{"line":16,"column":36},"end":{"line":16,"column":58}},"10":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"11":{"start":{"line":18,"column":8},"end":{"line":18,"column":80}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":11}},"13":{"start":{"line":22,"column":0},"end":{"line":31,"column":2}},"14":{"start":{"line":23,"column":25},"end":{"line":23,"column":33}},"15":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"16":{"start":{"line":25,"column":8},"end":{"line":25,"column":78}},"17":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":80}},"19":{"start":{"line":30,"column":4},"end":{"line":30,"column":11}},"20":{"start":{"line":33,"column":0},"end":{"line":47,"column":2}},"21":{"start":{"line":34,"column":35},"end":{"line":34,"column":43}},"22":{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},"23":{"start":{"line":36,"column":8},"end":{"line":38,"column":11}},"24":{"start":{"line":40,"column":21},"end":{"line":40,"column":51}},"25":{"start":{"line":41,"column":20},"end":{"line":41,"column":73}},"26":{"start":{"line":41,"column":44},"end":{"line":41,"column":72}},"27":{"start":{"line":42,"column":20},"end":{"line":42,"column":73}},"28":{"start":{"line":42,"column":44},"end":{"line":42,"column":72}},"29":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"30":{"start":{"line":44,"column":8},"end":{"line":44,"column":83}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":11}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":27},"end":{"line":10,"column":28}},"loc":{"start":{"line":10,"column":47},"end":{"line":21,"column":1}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":22,"column":30},"end":{"line":22,"column":31}},"loc":{"start":{"line":22,"column":50},"end":{"line":31,"column":1}},"line":22},"2":{"name":"(anonymous_2)","decl":{"start":{"line":33,"column":27},"end":{"line":33,"column":28}},"loc":{"start":{"line":33,"column":53},"end":{"line":47,"column":1}},"line":33},"3":{"name":"(anonymous_3)","decl":{"start":{"line":41,"column":34},"end":{"line":41,"column":35}},"loc":{"start":{"line":41,"column":44},"end":{"line":41,"column":72}},"line":41},"4":{"name":"(anonymous_4)","decl":{"start":{"line":42,"column":34},"end":{"line":42,"column":35}},"loc":{"start":{"line":42,"column":44},"end":{"line":42,"column":72}},"line":42}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},{"start":{"line":12,"column":4},"end":{"line":14,"column":5}}],"line":12},"1":{"loc":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},{"start":{"line":17,"column":4},"end":{"line":19,"column":5}}],"line":17},"2":{"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":61}},"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":33}},{"start":{"line":17,"column":37},"end":{"line":17,"column":61}}],"line":17},"3":{"loc":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},{"start":{"line":24,"column":4},"end":{"line":26,"column":5}}],"line":24},"4":{"loc":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},{"start":{"line":27,"column":4},"end":{"line":29,"column":5}}],"line":27},"5":{"loc":{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":39,"column":5}},{"start":{"line":35,"column":4},"end":{"line":39,"column":5}}],"line":35},"6":{"loc":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},{"start":{"line":43,"column":4},"end":{"line":45,"column":5}}],"line":43},"7":{"loc":{"start":{"line":43,"column":8},"end":{"line":43,"column":28}},"type":"binary-expr","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":16}},{"start":{"line":43,"column":20},"end":{"line":43,"column":28}}],"line":43}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"f":{"0":0,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/middlewares/middleware.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/middlewares/middleware.ts"],"names":[],"mappings":";;;AACA,kDAAgD;AAEhD,MAAqB,UAAU;;AAA/B,6BAyDC;;AAxDC,qCAAqC;AAEvB,wBAAa,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IAChF,MAAM,EAAE,KAAK,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAE3B,IAAI,CAAC,KAAK,EAAE;QACV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IAED,MAAM,wBAAwB,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;IAErD,MAAM,uBAAuB,GAAG,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAEvD,IAAI,CAAC,wBAAwB,IAAI,CAAC,uBAAuB,EAAE;QACzD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;IAED,IAAI,EAAE,CAAC;AACT,CAAE,CAAA;AAEY,2BAAgB,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACnF,MAAM,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAE9B,IAAI,CAAC,QAAQ,EAAE;QACb,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;KACvE;IAED,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;KACzE;IAED,IAAI,EAAE,CAAC;AACT,CAAE,CAAA;AAEF,uCAAuC;AAEzB,wBAAa,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;IACtF,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;IAExC,IAAI,MAAM,CAAC,QAAQ,CAAC,KAAK,MAAM,CAAC,QAAQ,CAAC,EAAE;QACzC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,2DAA2D;SACrE,CAAC,CAAC;KACJ;IAED,MAAM,QAAQ,GAAG,MAAM,cAAS,CAAC,OAAO,EAAE,CAAC;IAE3C,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IACtE,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,EAAE,KAAK,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC;IAEtE,IAAI,CAAC,OAAO,IAAI,CAAC,OAAO,EAAE;QACxB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC,CAAC;KAC5E;IAED,IAAI,EAAE,CAAC;AACT,CAAE,CAAA","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport TeamModel from '../database/models/Team';\n\nexport default class Middleware {\n  // validações usadas na area de login\n\n  public static validateEmail = (req: Request, res: Response, next: NextFunction) => {\n    const { email } = req.body;\n\n    if (!email) {\n      return res.status(400).json({ message: 'All fields must be filled' });\n    }\n\n    const primeiraVerificacaoEmail = email.includes('@');\n\n    const segundaVerificacaoEmail = email.includes('.com');\n\n    if (!primeiraVerificacaoEmail || !segundaVerificacaoEmail) {\n      return res.status(401).json({ message: 'Incorrect email or password' });\n    }\n\n    next();\n  };\n\n  public static validatePassword = (req: Request, res: Response, next: NextFunction) => {\n    const { password } = req.body;\n\n    if (!password) {\n      return res.status(400).json({ message: 'All fields must be filled' });\n    }\n\n    if (password.length < 6) {\n      return res.status(401).json({ message: 'Incorrect email or password' });\n    }\n\n    next();\n  };\n\n  // validações usadas na rota de matches\n\n  public static validateMatch = async (req: Request, res: Response, next: NextFunction) => {\n    const { homeTeam, awayTeam } = req.body;\n\n    if (Number(homeTeam) === Number(awayTeam)) {\n      return res.status(401).json({\n        message: 'It is not possible to create a match with two equal teams',\n      });\n    }\n\n    const teamsAll = await TeamModel.findAll();\n\n    const teamOne = teamsAll.some((team) => team.id === Number(homeTeam));\n    const teamTwo = teamsAll.some((team) => team.id === Number(awayTeam));\n\n    if (!teamOne || !teamTwo) {\n      return res.status(404).json({ message: 'There is no team with such id!' });\n    }\n\n    next();\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ff7daf1c3655ffa2693b37e4803b897237723b94"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Team.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Team.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":21,"column":3}},"4":{"start":{"line":22,"column":0},"end":{"line":22,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Team.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Team.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAIvB;AACD,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,UAAU,EAAE,IAAI;QAChB,IAAI,EAAE,qBAAS,CAAC,OAAO;KACxB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;QAChB,KAAK,EAAE,WAAW;KACnB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,MAAM;IACjB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport db from '.';\n\nclass Team extends Model {\n  public id!: number;\n\n  public teamName!: string;\n}\nTeam.init({\n  id: {\n    primaryKey: true,\n    type: DataTypes.INTEGER,\n  },\n  teamName: {\n    type: DataTypes.STRING,\n    allowNull: false,\n    field: 'team_name',\n  },\n}, {\n  sequelize: db,\n  modelName: 'team',\n  timestamps: false,\n});\n\nexport default Team;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"688f56e0443206619e786ff19041948f16355bb1"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/index.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/index.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AACtC,6CAA6C;AAE7C,kBAAe,IAAI,qBAAS,CAAC,MAAM,CAAC,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\nimport * as config from '../config/database';\n\nexport default new Sequelize(config);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a30b5088e9ea22eb2b9817b46cfbb0f7d13bee28"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/UserService.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/UserService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":15},"end":{"line":4,"column":34}},"2":{"start":{"line":5,"column":16},"end":{"line":5,"column":41}},"3":{"start":{"line":6,"column":15},"end":{"line":6,"column":49}},"4":{"start":{"line":9,"column":8},"end":{"line":9,"column":35}},"5":{"start":{"line":10,"column":8},"end":{"line":26,"column":10}},"6":{"start":{"line":11,"column":32},"end":{"line":11,"column":98}},"7":{"start":{"line":12,"column":12},"end":{"line":24,"column":13}},"8":{"start":{"line":13,"column":37},"end":{"line":13,"column":96}},"9":{"start":{"line":14,"column":16},"end":{"line":15,"column":32}},"10":{"start":{"line":15,"column":20},"end":{"line":15,"column":32}},"11":{"start":{"line":16,"column":32},"end":{"line":21,"column":17}},"12":{"start":{"line":22,"column":30},"end":{"line":22,"column":65}},"13":{"start":{"line":23,"column":16},"end":{"line":23,"column":50}},"14":{"start":{"line":25,"column":12},"end":{"line":25,"column":24}},"15":{"start":{"line":27,"column":8},"end":{"line":35,"column":10}},"16":{"start":{"line":28,"column":12},"end":{"line":34,"column":13}},"17":{"start":{"line":29,"column":29},"end":{"line":29,"column":62}},"18":{"start":{"line":30,"column":16},"end":{"line":30,"column":28}},"19":{"start":{"line":33,"column":16},"end":{"line":33,"column":28}},"20":{"start":{"line":38,"column":0},"end":{"line":38,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":44},"end":{"line":36,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":23},"end":{"line":10,"column":24}},"loc":{"start":{"line":10,"column":43},"end":{"line":26,"column":9}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":27,"column":29},"end":{"line":27,"column":30}},"loc":{"start":{"line":27,"column":40},"end":{"line":35,"column":9}},"line":27}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":42}},"type":"default-arg","locations":[{"start":{"line":8,"column":28},"end":{"line":8,"column":42}}],"line":8},"1":{"loc":{"start":{"line":12,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":12,"column":12},"end":{"line":24,"column":13}},{"start":{"line":12,"column":12},"end":{"line":24,"column":13}}],"line":12},"2":{"loc":{"start":{"line":12,"column":16},"end":{"line":12,"column":117}},"type":"binary-expr","locations":[{"start":{"line":12,"column":16},"end":{"line":12,"column":33}},{"start":{"line":12,"column":38},"end":{"line":12,"column":116}}],"line":12},"3":{"loc":{"start":{"line":12,"column":38},"end":{"line":12,"column":116}},"type":"cond-expr","locations":[{"start":{"line":12,"column":87},"end":{"line":12,"column":93}},{"start":{"line":12,"column":96},"end":{"line":12,"column":116}}],"line":12},"4":{"loc":{"start":{"line":12,"column":38},"end":{"line":12,"column":84}},"type":"binary-expr","locations":[{"start":{"line":12,"column":38},"end":{"line":12,"column":58}},{"start":{"line":12,"column":62},"end":{"line":12,"column":84}}],"line":12},"5":{"loc":{"start":{"line":14,"column":16},"end":{"line":15,"column":32}},"type":"if","locations":[{"start":{"line":14,"column":16},"end":{"line":15,"column":32}},{"start":{"line":14,"column":16},"end":{"line":15,"column":32}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/UserService.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/UserService.ts"],"names":[],"mappings":";;AAAA,+CAA+C;AAC/C,mCAAmC;AACnC,0CAA8D;AAC9D,kDAAgD;AAGhD,MAAqB,WAAW;IAC9B,YAAoB,YAAY,cAAS;QAArB,cAAS,GAAT,SAAS,CAAY;QAEzC,YAAO,GAAG,KAAK,EAAE,QAAe,EAAE,EAAE;YAClC,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAEvF,IAAI,QAAQ,CAAC,QAAQ,KAAI,WAAW,aAAX,WAAW,uBAAX,WAAW,CAAE,QAAQ,CAAA,EAAE;gBAC9C,MAAM,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,QAAQ,EAAE,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAEjF,IAAI,CAAC,YAAY;oBAAE,OAAO,IAAI,CAAC;gBAE/B,MAAM,OAAO,GAAU;oBACrB,EAAE,EAAE,WAAW,CAAC,EAAE;oBAClB,QAAQ,EAAE,WAAW,CAAC,QAAQ;oBAC9B,IAAI,EAAE,WAAW,CAAC,IAAI;oBACtB,KAAK,EAAE,WAAW,CAAC,KAAK;iBACzB,CAAC;gBAEF,MAAM,KAAK,GAAG,IAAA,qBAAa,EAAC,OAAO,CAAC,CAAC;gBAErC,OAAO,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,CAC/B,CAAC;aACH;YACD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;QAEF,kBAAa,GAAG,CAAC,KAAa,EAAE,EAAE;YAChC,IAAI;gBACF,MAAM,IAAI,GAAG,IAAA,qBAAa,EAAC,KAAK,CAAC,CAAC;gBAElC,OAAO,IAAa,CAAC;aACtB;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,IAAI,CAAC;aACb;QACH,CAAC,CAAC;IAjC0C,CAAC;CAkC9C;AAnCD,8BAmCC","sourcesContent":["// import { Request, Response } from 'express';\nimport * as bcrypt from 'bcryptjs';\nimport { generateToken, validateToken } from '../utils/Token';\nimport UserModel from '../database/models/User';\nimport IUser from '../Interface/User';\n\nexport default class UserService {\n  constructor(private userModel = UserModel) {}\n\n  getUser = async (userInfo: IUser) => {\n    const retornoData = await this.userModel.findOne({ where: { email: userInfo.email } });\n\n    if (userInfo.password && retornoData?.password) {\n      const validadePass = bcrypt.compareSync(userInfo.password, retornoData.password);\n\n      if (!validadePass) return null;\n\n      const usuario: IUser = {\n        id: retornoData.id,\n        username: retornoData.username,\n        role: retornoData.role,\n        email: retornoData.email,\n      };\n\n      const token = generateToken(usuario);\n\n      return ({ user: usuario, token }\n      );\n    }\n    return null;\n  };\n\n  validadeLogin = (token: string) => {\n    try {\n      const data = validateToken(token);\n\n      return data as IUser;\n    } catch (error) {\n      return null;\n    }\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"93dd0b89da85636bdc5039a7b47b5cdc8a06c6d3"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/utils/Token.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/utils/Token.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":24}},"3":{"start":{"line":5,"column":12},"end":{"line":5,"column":35}},"4":{"start":{"line":6,"column":12},"end":{"line":6,"column":72}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":99}},"6":{"start":{"line":7,"column":32},"end":{"line":7,"column":99}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}},"8":{"start":{"line":9,"column":22},"end":{"line":9,"column":55}},"9":{"start":{"line":9,"column":33},"end":{"line":9,"column":55}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":38}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":22},"end":{"line":7,"column":23}},"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":99}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":22},"end":{"line":9,"column":23}},"loc":{"start":{"line":9,"column":33},"end":{"line":9,"column":55}},"line":9}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":0,"10":1},"f":{"0":0,"1":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/utils/Token.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/utils/Token.ts"],"names":[],"mappings":";;;AAAA,yBAAyB;AACzB,oCAAoC;AAGpC,MAAM,GAAG,GAAG,EAAE,CAAC,YAAY,CAAC,oBAAoB,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,CAAC,CAAC;AAEzE,MAAM,aAAa,GAAG,CAAC,IAAW,EAAE,EAAE,CACpC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,GAAG,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,CAAC;AAI7D,sCAAa;AAFtB,MAAM,aAAa,GAAG,CAAC,KAAa,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;AAExC,sCAAa","sourcesContent":["import * as fs from 'fs';\nimport * as jwt from 'jsonwebtoken';\nimport IUser from '../Interface/User';\n\nconst KEY = fs.readFileSync('jwt.evaluation.key', { encoding: 'utf-8' });\n\nconst generateToken = (data: IUser) =>\n  jwt.sign({ ...data }, KEY, { expiresIn: '7d', algorithm: 'HS256' });\n\nconst validateToken = (token: string) => jwt.verify(token, KEY);\n\nexport { generateToken, validateToken };\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0983aa19d363d413d0a1be61275b5b08cbbd9f5c"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/User.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/User.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":32,"column":3}},"4":{"start":{"line":33,"column":0},"end":{"line":33,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/User.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/User.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAUvB;AACD,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,UAAU,EAAE,IAAI;QAChB,IAAI,EAAE,qBAAS,CAAC,OAAO;KACxB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,MAAM;IACjB,UAAU,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport db from '.';\n\nclass User extends Model {\n  public id!: number;\n\n  public username!: string;\n\n  public role!: string;\n\n  public email!: string;\n\n  public password!: string;\n}\nUser.init({\n  id: {\n    primaryKey: true,\n    type: DataTypes.INTEGER,\n  },\n  username: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  role: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  email: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  password: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n}, {\n  sequelize: db,\n  modelName: 'user',\n  timestamps: false,\n});\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"26479c7e3527cc044b3af44ff9a466ae5c3acf49"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/TeamsRouter.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/TeamsRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":26},"end":{"line":4,"column":67}},"3":{"start":{"line":6,"column":23},"end":{"line":6,"column":58}},"4":{"start":{"line":7,"column":20},"end":{"line":7,"column":36}},"5":{"start":{"line":8,"column":24},"end":{"line":8,"column":83}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":47}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":53}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/TeamsRouter.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/TeamsRouter.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,oEAA6D;AAC7D,sDAAsD;AACtD,2DAAoD;AAEpD,MAAM,WAAW,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAErC,MAAM,eAAe,GAAG,IAAI,yBAAe,CAAC,IAAI,sBAAY,EAAE,CAAC,CAAC;AAEhE,WAAW,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,QAAQ,CAAC,CAAC;AAE/C,WAAW,CAAC,GAAG,CAAC,MAAM,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;AAErD,kBAAe,WAAW,CAAC","sourcesContent":["import * as express from 'express';\nimport TeamsController from '../controllers/TeamsController';\n// import middleware from '../middlewares/middleware';\nimport TeamsService from '../services/TeamsService';\n\nconst teamsRouter = express.Router();\n\nconst teamsController = new TeamsController(new TeamsService());\n\nteamsRouter.get('/', teamsController.getTeams);\n\nteamsRouter.get('/:id', teamsController.getTeamById);\n\nexport default teamsRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d41157bbc61cebebd5ca0bbef0780bd5a1b13661"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":58}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":41}},"3":{"start":{"line":7,"column":8},"end":{"line":10,"column":10}},"4":{"start":{"line":8,"column":31},"end":{"line":8,"column":65}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":52}},"6":{"start":{"line":11,"column":8},"end":{"line":15,"column":10}},"7":{"start":{"line":12,"column":27},"end":{"line":12,"column":37}},"8":{"start":{"line":13,"column":25},"end":{"line":13,"column":64}},"9":{"start":{"line":14,"column":12},"end":{"line":14,"column":46}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":61},"end":{"line":16,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":24},"end":{"line":7,"column":25}},"loc":{"start":{"line":7,"column":44},"end":{"line":10,"column":9}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":27},"end":{"line":11,"column":28}},"loc":{"start":{"line":11,"column":47},"end":{"line":15,"column":9}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":59}},"type":"default-arg","locations":[{"start":{"line":5,"column":31},"end":{"line":5,"column":59}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[0]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/TeamsController.ts"],"names":[],"mappings":";;AACA,2DAAoD;AAEpD,MAAqB,eAAe;IAClC,YAAoB,eAAe,IAAI,sBAAY,EAAE;QAAjC,iBAAY,GAAZ,YAAY,CAAqB;QAErD,aAAQ,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YAC/C,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;YAEtD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC1C,CAAC,CAAC;QAEF,gBAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YAClD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAE1B,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;YAErD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC;IAdsD,CAAC;CAe1D;AAhBD,kCAgBC","sourcesContent":["import { Request, Response } from 'express';\nimport TeamsService from '../services/TeamsService';\n\nexport default class TeamsController {\n  constructor(private teamsService = new TeamsService()) {}\n\n  getTeams = async (req: Request, res: Response) => {\n    const teamsArray = await this.teamsService.getTeams();\n\n    return res.status(200).json(teamsArray);\n  };\n\n  getTeamById = async (req: Request, res: Response) => {\n    const { id } = req.params;\n\n    const team = await this.teamsService.getTeamById(id);\n\n    return res.status(200).json(team);\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dff4d5ccae2df37bbac720ec012bfab52dda4070"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":49}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"3":{"start":{"line":7,"column":8},"end":{"line":10,"column":10}},"4":{"start":{"line":8,"column":31},"end":{"line":8,"column":62}},"5":{"start":{"line":9,"column":12},"end":{"line":9,"column":30}},"6":{"start":{"line":11,"column":8},"end":{"line":16,"column":10}},"7":{"start":{"line":12,"column":25},"end":{"line":14,"column":14}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":24}},"9":{"start":{"line":19,"column":0},"end":{"line":19,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":45},"end":{"line":17,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":24},"end":{"line":7,"column":25}},"loc":{"start":{"line":7,"column":36},"end":{"line":10,"column":9}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":11,"column":27},"end":{"line":11,"column":28}},"loc":{"start":{"line":11,"column":41},"end":{"line":16,"column":9}},"line":11}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":43}},"type":"default-arg","locations":[{"start":{"line":5,"column":29},"end":{"line":5,"column":43}}],"line":5}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1,"7":0,"8":0,"9":1},"f":{"0":1,"1":0,"2":0},"b":{"0":[1]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/TeamsService.ts"],"names":[],"mappings":";;AAAA,kDAAiD;AAEjD,MAAqB,YAAY;IAC/B,YAAoB,aAAa,cAAU;QAAvB,eAAU,GAAV,UAAU,CAAa;QAE3C,aAAQ,GAAG,KAAK,IAAI,EAAE;YACpB,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC;YAEnD,OAAO,UAAU,CAAC;QACpB,CAAC,CAAC;QAEF,gBAAW,GAAG,KAAK,EAAE,EAAU,EAAE,EAAE;YACjC,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACzC,KAAK,EAAE,EAAE,EAAE,EAAE;aACd,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;IAd4C,CAAC;CAehD;AAhBD,+BAgBC","sourcesContent":["import TeamsModel from '../database/models/Team';\n\nexport default class TeamsService {\n  constructor(private teamsModel = TeamsModel) {}\n\n  getTeams = async () => {\n    const teamsArray = await this.teamsModel.findAll();\n\n    return teamsArray;\n  };\n\n  getTeamById = async (id: string) => {\n    const team = await this.teamsModel.findOne({\n      where: { id },\n    });\n\n    return team;\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"55be607d27ae00ebe799411eaaf0992a19afc304"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/MatchesRouter.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/MatchesRouter.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":62}},"3":{"start":{"line":5,"column":28},"end":{"line":5,"column":71}},"4":{"start":{"line":6,"column":21},"end":{"line":6,"column":57}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":38}},"6":{"start":{"line":8,"column":26},"end":{"line":8,"column":89}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":53}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":90}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":68}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":59}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":32}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/MatchesRouter.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/routes/MatchesRouter.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,+DAAwD;AACxD,wEAAiE;AACjE,0DAAmD;AAEnD,MAAM,aAAa,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAEvC,MAAM,iBAAiB,GAAG,IAAI,2BAAiB,CAAC,IAAI,wBAAc,EAAE,CAAC,CAAC;AAEtE,aAAa,CAAC,GAAG,CAAC,GAAG,EAAE,iBAAiB,CAAC,UAAU,CAAC,CAAC;AAErD,aAAa,CAAC,IAAI,CAChB,GAAG,EACH,oBAAU,CAAC,aAAa,EACxB,iBAAiB,CAAC,UAAU,CAC7B,CAAC;AAEF,aAAa,CAAC,KAAK,CAAC,aAAa,EAAE,iBAAiB,CAAC,aAAa,CAAC,CAAC;AAEpE,aAAa,CAAC,KAAK,CAAC,MAAM,EAAE,iBAAiB,CAAC,WAAW,CAAC,CAAC;AAE3D,kBAAe,aAAa,CAAC","sourcesContent":["import * as express from 'express';\nimport MatchesService from '../services/MatchesService';\nimport MatchesController from '../controllers/MatchesController';\nimport middleware from '../middlewares/middleware';\n\nconst matchesRouter = express.Router();\n\nconst matchesController = new MatchesController(new MatchesService());\n\nmatchesRouter.get('/', matchesController.getMatches);\n\nmatchesRouter.post(\n  '/',\n  middleware.validateMatch,\n  matchesController.addMatches,\n);\n\nmatchesRouter.patch('/:id/finish', matchesController.matchFinished);\n\nmatchesRouter.patch('/:id', matchesController.updateMatch);\n\nexport default matchesRouter;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c9de022a68fb0fe463e8022f072ca8ef462d2423"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/MatchesService.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/MatchesService.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":41}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":51}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":49}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":37}},"5":{"start":{"line":9,"column":8},"end":{"line":17,"column":10}},"6":{"start":{"line":10,"column":33},"end":{"line":15,"column":14}},"7":{"start":{"line":16,"column":12},"end":{"line":16,"column":32}},"8":{"start":{"line":18,"column":8},"end":{"line":31,"column":10}},"9":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"10":{"start":{"line":20,"column":16},"end":{"line":20,"column":42}},"11":{"start":{"line":22,"column":35},"end":{"line":22,"column":66}},"12":{"start":{"line":23,"column":26},"end":{"line":29,"column":14}},"13":{"start":{"line":30,"column":12},"end":{"line":30,"column":25}},"14":{"start":{"line":32,"column":8},"end":{"line":43,"column":10}},"15":{"start":{"line":33,"column":73},"end":{"line":33,"column":76}},"16":{"start":{"line":34,"column":12},"end":{"line":34,"column":46}},"17":{"start":{"line":35,"column":26},"end":{"line":41,"column":14}},"18":{"start":{"line":42,"column":12},"end":{"line":42,"column":25}},"19":{"start":{"line":44,"column":8},"end":{"line":46,"column":10}},"20":{"start":{"line":45,"column":12},"end":{"line":45,"column":83}},"21":{"start":{"line":47,"column":8},"end":{"line":50,"column":10}},"22":{"start":{"line":48,"column":53},"end":{"line":48,"column":59}},"23":{"start":{"line":49,"column":12},"end":{"line":49,"column":94}},"24":{"start":{"line":53,"column":0},"end":{"line":53,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":46},"end":{"line":51,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":27},"end":{"line":9,"column":28}},"loc":{"start":{"line":9,"column":39},"end":{"line":17,"column":9}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":36},"end":{"line":18,"column":37}},"loc":{"start":{"line":18,"column":58},"end":{"line":31,"column":9}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":32,"column":26},"end":{"line":32,"column":27}},"loc":{"start":{"line":32,"column":48},"end":{"line":43,"column":9}},"line":32},"4":{"name":"(anonymous_4)","decl":{"start":{"line":44,"column":29},"end":{"line":44,"column":30}},"loc":{"start":{"line":44,"column":43},"end":{"line":46,"column":9}},"line":44},"5":{"name":"(anonymous_5)","decl":{"start":{"line":47,"column":27},"end":{"line":47,"column":28}},"loc":{"start":{"line":47,"column":49},"end":{"line":50,"column":9}},"line":47}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":16},"end":{"line":7,"column":44}},"type":"default-arg","locations":[{"start":{"line":7,"column":29},"end":{"line":7,"column":44}}],"line":7},"1":{"loc":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},{"start":{"line":19,"column":12},"end":{"line":21,"column":13}}],"line":19},"2":{"loc":{"start":{"line":22,"column":35},"end":{"line":22,"column":66}},"type":"cond-expr","locations":[{"start":{"line":22,"column":61},"end":{"line":22,"column":62}},{"start":{"line":22,"column":65},"end":{"line":22,"column":66}}],"line":22}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0,"5":0},"b":{"0":[1],"1":[0,0],"2":[0,0]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/MatchesService.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/services/MatchesService.ts"],"names":[],"mappings":";;AAAA,0CAA+C;AAC/C,oDAAkD;AAClD,kDAAgD;AAGhD,MAAqB,cAAc;IACjC,YAAoB,aAAa,eAAU;QAAvB,eAAU,GAAV,UAAU,CAAa;QAEnC,gBAAW,GAAG,KAAK,IAAI,EAAE;YAC/B,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBACjD,OAAO,EACP;oBACE,EAAE,KAAK,EAAE,cAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;oBAC9D,EAAE,KAAK,EAAE,cAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;iBAC/D;aAAE,CAAC,CAAC;YACP,OAAO,YAAY,CAAC;QACtB,CAAC,CAAC;QAEF,yBAAoB,GAAG,KAAK,EAAE,UAA8B,EAAE,EAAE;YAC9D,IAAI,CAAC,UAAU,EAAE;gBACf,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;aAC3B;YAED,MAAM,cAAc,GAAG,CAAC,UAAU,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAEvD,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC;gBAC1C,KAAK,EAAE,EAAE,UAAU,EAAE,cAAc,EAAE;gBACrC,OAAO,EACP;oBACE,EAAE,KAAK,EAAE,cAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;oBAC9D,EAAE,KAAK,EAAE,cAAS,EAAE,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;iBAC/D;aAAE,CAAC,CAAC;YAEP,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;QAEF,eAAU,GAAG,KAAK,EAAE,GAAW,EAAE,KAAa,EAAE,EAAE;YAChD,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC;YAEjE,IAAA,qBAAa,EAAC,KAAK,CAAC,CAAC;YAErB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;gBACzC,QAAQ;gBACR,aAAa;gBACb,QAAQ;gBACR,aAAa;gBACb,UAAU,EAAE,CAAC;aACd,CAAC,CAAC;YAEH,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;QAEF,kBAAa,GAAG,KAAK,EAAE,EAAU,EAAE,EAAE;YACnC,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACzE,CAAC,CAAC;QAEF,gBAAW,GAAG,KAAK,EAAE,EAAU,EAAE,MAAc,EAAE,EAAE;YACjD,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,MAAM,CAAC;YAEhD,MAAM,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,aAAa,EAAE,aAAa,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACpF,CAAC,CAAC;IAtD4C,CAAC;CAuDhD;AAxDD,iCAwDC","sourcesContent":["import { validateToken } from '../utils/Token';\nimport MatchModel from '../database/models/Match';\nimport TeamModel from '../database/models/Team';\nimport Imatch from '../Interface/Match';\n\nexport default class MatchesService {\n  constructor(private matchModel = MatchModel) {}\n\n  private _getMatches = async () => {\n    const matchesArray = await this.matchModel.findAll({\n      include:\n      [\n        { model: TeamModel, as: 'teamHome', attributes: ['teamName'] },\n        { model: TeamModel, as: 'teamAway', attributes: ['teamName'] },\n      ] });\n    return matchesArray;\n  };\n\n  getMatchByInprogress = async (inProgress: string | undefined) => {\n    if (!inProgress) {\n      return this._getMatches();\n    }\n\n    const progressNumber = (inProgress === 'true') ? 1 : 0;\n\n    const match = await this.matchModel.findAll({\n      where: { inProgress: progressNumber },\n      include:\n      [\n        { model: TeamModel, as: 'teamHome', attributes: ['teamName'] },\n        { model: TeamModel, as: 'teamAway', attributes: ['teamName'] },\n      ] });\n\n    return match;\n  };\n\n  addMatches = async (add: Imatch, token: string) => {\n    const { homeTeam, homeTeamGoals, awayTeam, awayTeamGoals } = add;\n\n    validateToken(token);\n\n    const match = await this.matchModel.create({\n      homeTeam,\n      homeTeamGoals,\n      awayTeam,\n      awayTeamGoals,\n      inProgress: 1,\n    });\n\n    return match;\n  };\n\n  matchFinished = async (id: string) => {\n    await this.matchModel.update({ inProgress: false }, { where: { id } });\n  };\n\n  updateMatch = async (id: string, update: Imatch) => {\n    const { homeTeamGoals, awayTeamGoals } = update;\n\n    await this.matchModel.update({ homeTeamGoals, awayTeamGoals }, { where: { id } });\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b2e08e2028b973e64c727a0fa5dfe4c4689172e6"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Match.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Match.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":32}},"3":{"start":{"line":5,"column":11},"end":{"line":5,"column":23}},"4":{"start":{"line":8,"column":0},"end":{"line":39,"column":3}},"5":{"start":{"line":40,"column":0},"end":{"line":40,"column":76}},"6":{"start":{"line":41,"column":0},"end":{"line":41,"column":76}},"7":{"start":{"line":42,"column":0},"end":{"line":42,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Match.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/database/models/Match.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,iCAA0B;AAC1B,wBAAmB;AAEnB,MAAM,KAAM,SAAQ,iBAAK;CAYxB;AAED,KAAK,CAAC,IAAI,CACR;IACE,EAAE,EAAE;QACF,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;QACnB,IAAI,EAAE,qBAAS,CAAC,OAAO;KACxB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,aAAa,EAAE;QACb,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,UAAU,EAAE;QACV,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;CACF,EACD;IACE,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;CAClB,CACF,CAAC;AAEF,KAAK,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAClE,KAAK,CAAC,SAAS,CAAC,cAAI,EAAE,EAAE,UAAU,EAAE,UAAU,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAElE,kBAAe,KAAK,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport Team from './Team';\nimport db from '.';\n\nclass Match extends Model {\n  public id!: number;\n\n  public homeTeam!: number;\n\n  public homeTeamGoals!: number;\n\n  public awayTeam!: number;\n\n  public awayTeamGoals!: number;\n\n  public inProgress!: number;\n}\n\nMatch.init(\n  {\n    id: {\n      primaryKey: true,\n      autoIncrement: true,\n      type: DataTypes.INTEGER,\n    },\n    homeTeam: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n    },\n    homeTeamGoals: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n    },\n    awayTeam: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n    },\n    awayTeamGoals: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n    },\n    inProgress: {\n      type: DataTypes.INTEGER,\n      allowNull: false,\n    },\n  },\n  {\n    underscored: true,\n    sequelize: db,\n    modelName: 'Match',\n    timestamps: false,\n  },\n);\n\nMatch.belongsTo(Team, { foreignKey: 'homeTeam', as: 'teamHome' });\nMatch.belongsTo(Team, { foreignKey: 'awayTeam', as: 'teamAway' });\n\nexport default Match;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7747fafb5486e73c13bc5d4651b766bce879837c"},"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts":{"path":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":25},"end":{"line":3,"column":62}},"2":{"start":{"line":6,"column":8},"end":{"line":6,"column":45}},"3":{"start":{"line":7,"column":8},"end":{"line":11,"column":10}},"4":{"start":{"line":8,"column":35},"end":{"line":8,"column":44}},"5":{"start":{"line":9,"column":33},"end":{"line":9,"column":91}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":54}},"7":{"start":{"line":12,"column":8},"end":{"line":23,"column":10}},"8":{"start":{"line":13,"column":85},"end":{"line":13,"column":93}},"9":{"start":{"line":14,"column":26},"end":{"line":14,"column":57}},"10":{"start":{"line":15,"column":26},"end":{"line":21,"column":21}},"11":{"start":{"line":22,"column":12},"end":{"line":22,"column":47}},"12":{"start":{"line":24,"column":8},"end":{"line":28,"column":10}},"13":{"start":{"line":25,"column":27},"end":{"line":25,"column":37}},"14":{"start":{"line":26,"column":12},"end":{"line":26,"column":56}},"15":{"start":{"line":27,"column":12},"end":{"line":27,"column":41}},"16":{"start":{"line":29,"column":8},"end":{"line":37,"column":10}},"17":{"start":{"line":30,"column":27},"end":{"line":30,"column":37}},"18":{"start":{"line":31,"column":53},"end":{"line":31,"column":61}},"19":{"start":{"line":32,"column":12},"end":{"line":35,"column":15}},"20":{"start":{"line":36,"column":12},"end":{"line":36,"column":44}},"21":{"start":{"line":40,"column":0},"end":{"line":40,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":65},"end":{"line":38,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":26},"end":{"line":7,"column":27}},"loc":{"start":{"line":7,"column":46},"end":{"line":11,"column":9}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":26},"end":{"line":12,"column":27}},"loc":{"start":{"line":12,"column":46},"end":{"line":23,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":29},"end":{"line":24,"column":30}},"loc":{"start":{"line":24,"column":49},"end":{"line":28,"column":9}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":27},"end":{"line":29,"column":28}},"loc":{"start":{"line":29,"column":47},"end":{"line":37,"column":9}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":63}},"type":"default-arg","locations":[{"start":{"line":5,"column":33},"end":{"line":5,"column":63}}],"line":5},"1":{"loc":{"start":{"line":14,"column":26},"end":{"line":14,"column":57}},"type":"binary-expr","locations":[{"start":{"line":14,"column":26},"end":{"line":14,"column":51}},{"start":{"line":14,"column":55},"end":{"line":14,"column":57}}],"line":14}},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1},"f":{"0":1,"1":0,"2":0,"3":0,"4":0},"b":{"0":[0],"1":[0,0]},"inputSourceMap":{"version":3,"file":"/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts","sources":["/home/ronald/projetos/sd-015-b-trybe-futebol-clube/app/backend/src/controllers/MatchesController.ts"],"names":[],"mappings":";;AACA,+DAAwD;AAExD,MAAqB,iBAAiB;IACpC,YAAoB,iBAAiB,IAAI,wBAAc,EAAE;QAArC,mBAAc,GAAd,cAAc,CAAuB;QAEzD,eAAU,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACjD,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;YAEjC,MAAM,YAAY,GAAG,MACrB,IAAI,CAAC,cAAc,CAAC,oBAAoB,CAAC,UAAgC,CAAC,CAAC;YAE3E,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC5C,CAAC,CAAC;QAEF,eAAU,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACjD,MAAM,EAAE,QAAQ,EAAE,aAAa,EAAE,QAAQ,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAElF,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO,CAAC,aAAa,IAAI,EAAE,CAAC;YAE9C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC;gBACjD,QAAQ;gBACR,QAAQ;gBACR,aAAa;gBACb,aAAa;gBACb,UAAU;aACX,EAAE,KAAK,CAAC,CAAC;YAEV,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACrC,CAAC,CAAC;QAEF,kBAAa,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACpD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAE1B,MAAM,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAE5C,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,gBAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YAClD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAElD,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,EAAE,EAAE;gBACxC,aAAa;gBACb,aAAa;aACd,CAAC,CAAC;YAEH,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,CAAC,CAAC;IA7C0D,CAAC;CA8C9D;AA/CD,oCA+CC","sourcesContent":["import { Request, Response } from 'express';\nimport MatchesService from '../services/MatchesService';\n\nexport default class MatchesController {\n  constructor(private matchesService = new MatchesService()) {}\n\n  getMatches = async (req: Request, res: Response) => {\n    const { inProgress } = req.query;\n\n    const matchesArray = await\n    this.matchesService.getMatchByInprogress(inProgress as string | undefined);\n\n    return res.status(200).json(matchesArray);\n  };\n\n  addMatches = async (req: Request, res: Response) => {\n    const { homeTeam, homeTeamGoals, awayTeam, awayTeamGoals, inProgress } = req.body;\n\n    const token = req.headers.authorization || '';\n\n    const match = await this.matchesService.addMatches({\n      homeTeam,\n      awayTeam,\n      homeTeamGoals,\n      awayTeamGoals,\n      inProgress,\n    }, token);\n\n    return res.status(201).json(match);\n  };\n\n  matchFinished = async (req: Request, res: Response) => {\n    const { id } = req.params;\n\n    await this.matchesService.matchFinished(id);\n\n    return res.status(200).end();\n  };\n\n  updateMatch = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const { homeTeamGoals, awayTeamGoals } = req.body;\n\n    await this.matchesService.updateMatch(id, {\n      homeTeamGoals,\n      awayTeamGoals,\n    });\n\n    return res.status(200).json({});\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bed958c6f187a42848614bdfa2483070af9d8808"}}